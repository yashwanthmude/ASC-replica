{"ast":null,"code":"var _jsxFileName = \"/home/yash/Documents/dbis/lab4demo/200050078-200050144-lab4/frontend/src/components/registration.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./home.css\";\nimport \"./nav.css\";\nimport Navbar from \"./nav.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Registration() {\n  _s();\n  const [allCourses, setAllCourses] = useState([]);\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:5000/registration/add\", {\n        course_id: event.target.value,\n        sec_id: allCourses[0].sec_id,\n        year: allCourses[0].year,\n        semester: allCourses[0].semester\n      }, {\n        withCredentials: true\n      });\n      if (response.status === 200) {\n        // refresh the page\n\n        window.location.href = \"/home/registration\";\n      }\n    } catch (e) {\n      if (e.response.status === 401) {\n        window.location.href = \"/login\";\n      }\n    }\n  };\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/registration/all\", {\n      withCredentials: true\n    }).then(res => {\n      setAllCourses(res.data);\n      console.log(allCourses);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registration\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-courses\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Course ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Semester\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"sec_id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Enroll\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: allCourses.map(course => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `/course/${course.course_id}`,\n                children: course.course_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: course.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: course.year\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: course.semester\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: course.sec_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"enroll\",\n                value: course.course_id,\n                onClick: handleSubmit,\n                children: \"Enroll\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 33\n            }, this)]\n          }, course.course_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(Registration, \"i5oa1NSjiorg3mnploF05Lx60Hg=\");\n_c = Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","Registration","allCourses","setAllCourses","handleSubmit","event","preventDefault","response","post","course_id","target","value","sec_id","year","semester","withCredentials","status","window","location","href","e","get","then","res","data","console","log","map","course","title"],"sources":["/home/yash/Documents/dbis/lab4demo/200050078-200050144-lab4/frontend/src/components/registration.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./home.css\";\nimport \"./nav.css\";\nimport Navbar from \"./nav.jsx\";\n\nexport default function Registration() {\n    const [allCourses, setAllCourses] = useState([]);\n\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            const response = await axios.post(\"http://localhost:5000/registration/add\", {\n                course_id: event.target.value,\n                sec_id: allCourses[0].sec_id,\n                year: allCourses[0].year,\n                semester: allCourses[0].semester,\n\n            }, { withCredentials: true });\n            if (response.status === 200) {\n                // refresh the page\n\n                window.location.href = \"/home/registration\";\n            }\n        } catch (e) {\n            if (e.response.status === 401) {\n                window.location.href = \"/login\";\n            }\n        }\n    };\n\n\n\n\n\n\n\n\n\n\n\n\n\n    useEffect(() => {\n        axios.get(\"http://localhost:5000/registration/all\", { withCredentials: true })\n            .then((res) => {\n                setAllCourses(res.data);\n                console.log(allCourses);\n            });\n    }, []);\n    return (\n        <div className=\"registration\">\n            <Navbar />\n            <h1>Registration</h1>\n            <div className=\"all-courses\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Course ID</th>\n                            <th>Title</th>\n                            <th>Year</th>\n                            <th>Semester</th>\n                            <th>sec_id</th>\n                            <th>Enroll</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {allCourses.map((course) => (\n                            <tr key={course.course_id}>\n                                <td>\n                                    <a href={`/course/${course.course_id}`}>\n                                        {course.course_id}\n                                    </a>\n                                </td>\n                                <td>{course.title}</td>\n                                <td>{course.year}</td>\n                                <td>{course.semester}</td>\n                                <td>{course.sec_id}</td>\n                                <td>\n                                    <button\n                                        className=\"enroll\"\n                                        value={course.course_id}\n                                        onClick={handleSubmit}\n                                    >\n                                        Enroll\n                                    </button>\n\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n\n                </table>\n            </div>\n        </div>\n    );\n}\n\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,YAAY;AACnB,OAAO,WAAW;AAClB,OAAOC,MAAM,MAAM,WAAW;AAAC;AAE/B,eAAe,SAASC,YAAY,GAAG;EAAA;EACnC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAGhD,MAAMO,YAAY,GAAG,MAAOC,KAAK,IAAK;IAClCA,KAAK,CAACC,cAAc,EAAE;IACtB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,wCAAwC,EAAE;QACxEC,SAAS,EAAEJ,KAAK,CAACK,MAAM,CAACC,KAAK;QAC7BC,MAAM,EAAEV,UAAU,CAAC,CAAC,CAAC,CAACU,MAAM;QAC5BC,IAAI,EAAEX,UAAU,CAAC,CAAC,CAAC,CAACW,IAAI;QACxBC,QAAQ,EAAEZ,UAAU,CAAC,CAAC,CAAC,CAACY;MAE5B,CAAC,EAAE;QAAEC,eAAe,EAAE;MAAK,CAAC,CAAC;MAC7B,IAAIR,QAAQ,CAACS,MAAM,KAAK,GAAG,EAAE;QACzB;;QAEAC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,oBAAoB;MAC/C;IACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;MACR,IAAIA,CAAC,CAACb,QAAQ,CAACS,MAAM,KAAK,GAAG,EAAE;QAC3BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;MACnC;IACJ;EACJ,CAAC;EAcDrB,SAAS,CAAC,MAAM;IACZC,KAAK,CAACsB,GAAG,CAAC,wCAAwC,EAAE;MAAEN,eAAe,EAAE;IAAK,CAAC,CAAC,CACzEO,IAAI,CAAEC,GAAG,IAAK;MACXpB,aAAa,CAACoB,GAAG,CAACC,IAAI,CAAC;MACvBC,OAAO,CAACC,GAAG,CAACxB,UAAU,CAAC;IAC3B,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EACN,oBACI;IAAK,SAAS,EAAC,cAAc;IAAA,wBACzB,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG,eACV;MAAA,UAAI;IAAY;MAAA;MAAA;MAAA;IAAA,QAAK,eACrB;MAAK,SAAS,EAAC,aAAa;MAAA,uBACxB;QAAA,wBACI;UAAA,uBACI;YAAA,wBACI;cAAA,UAAI;YAAS;cAAA;cAAA;cAAA;YAAA,QAAK,eAClB;cAAA,UAAI;YAAK;cAAA;cAAA;cAAA;YAAA,QAAK,eACd;cAAA,UAAI;YAAI;cAAA;cAAA;cAAA;YAAA,QAAK,eACb;cAAA,UAAI;YAAQ;cAAA;cAAA;cAAA;YAAA,QAAK,eACjB;cAAA,UAAI;YAAM;cAAA;cAAA;cAAA;YAAA,QAAK,eACf;cAAA,UAAI;YAAM;cAAA;cAAA;cAAA;YAAA,QAAK;UAAA;YAAA;YAAA;YAAA;UAAA;QACd;UAAA;UAAA;UAAA;QAAA,QACD,eACR;UAAA,UACKA,UAAU,CAACyB,GAAG,CAAEC,MAAM,iBACnB;YAAA,wBACI;cAAA,uBACI;gBAAG,IAAI,EAAG,WAAUA,MAAM,CAACnB,SAAU,EAAE;gBAAA,UAClCmB,MAAM,CAACnB;cAAS;gBAAA;gBAAA;gBAAA;cAAA;YACjB;cAAA;cAAA;cAAA;YAAA,QACH,eACL;cAAA,UAAKmB,MAAM,CAACC;YAAK;cAAA;cAAA;cAAA;YAAA,QAAM,eACvB;cAAA,UAAKD,MAAM,CAACf;YAAI;cAAA;cAAA;cAAA;YAAA,QAAM,eACtB;cAAA,UAAKe,MAAM,CAACd;YAAQ;cAAA;cAAA;cAAA;YAAA,QAAM,eAC1B;cAAA,UAAKc,MAAM,CAAChB;YAAM;cAAA;cAAA;cAAA;YAAA,QAAM,eACxB;cAAA,uBACI;gBACI,SAAS,EAAC,QAAQ;gBAClB,KAAK,EAAEgB,MAAM,CAACnB,SAAU;gBACxB,OAAO,EAAEL,YAAa;gBAAA,UACzB;cAED;gBAAA;gBAAA;gBAAA;cAAA;YAAS;cAAA;cAAA;cAAA;YAAA,QAER;UAAA,GAnBAwB,MAAM,CAACnB,SAAS;YAAA;YAAA;YAAA;UAAA,QAqB5B;QAAC;UAAA;UAAA;UAAA;QAAA,QACE;MAAA;QAAA;QAAA;QAAA;MAAA;IAEJ;MAAA;MAAA;MAAA;IAAA,QACN;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd;AAAC,GA3FuBR,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}